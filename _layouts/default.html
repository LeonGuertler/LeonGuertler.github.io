<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>{{ page.title | default: site.title }}</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="stylesheet" href="{{ "/assets/css/style.css" | relative_url }}">
  </head>

  <body>
    <header>
      <h1 style="margin:1.5rem 0;">
        <a href="{{ "/" | relative_url }}"
           style="text-decoration:none;color:inherit;">
          {{ site.title }}
        </a>
      </h1>
    </header>

    <main>
      {{ content }}
    </main>

    <script>
      document.addEventListener('DOMContentLoaded', () => {
        document.querySelectorAll('pre > code').forEach((code, i) => {
          // Wrap the <pre><code>…</code></pre> in a div so we can position things nicely
          const wrapper   = document.createElement('div');
          wrapper.className = 'code-wrapper';
          code.parentNode.parentNode.replaceWith(wrapper);
          wrapper.appendChild(code.parentNode);   // put <pre> inside wrapper
      
          // Add the copy button *after* the <pre> so it’s outside the box
          const btn = document.createElement('button');
          btn.className = 'copy-btn';
          btn.textContent = 'Copy';
          btn.addEventListener('click', () => {
            navigator.clipboard.writeText(code.innerText).then(() => {
              btn.textContent = 'Copied!';
              setTimeout(() => (btn.textContent = 'Copy'), 2000);
            });
          });
          wrapper.appendChild(btn);
        });
      });
      </script>
      
  </body>
</html>