<script>
  document.addEventListener('DOMContentLoaded', function() {
    document.querySelectorAll('pre').forEach(function(pre) {
      if (pre.querySelector('code')) {
        var button = document.createElement('button');
        button.className = 'copy-btn';
        button.textContent = 'Copy';
        button.onclick = function() {
          var code = pre.querySelector('code').innerText;
          navigator.clipboard.writeText(code).then(function() {
            button.textContent = 'Copied!';
            setTimeout(function() { button.textContent = 'Copy'; }, 2000);
          });
        };
        pre.appendChild(button);
      }
    });
  });
</script>